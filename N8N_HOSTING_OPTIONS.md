# n8n自己ホスト用サーバー選定ガイド

## 現在のシステムのホスティング状況

現在、本システム（Meta Ad Analyzer AI）のバックエンドがどこでホストされているか確認が必要です。

### 確認事項
- **バックエンド**: Railway / Render / VPS / その他？
- **フロントエンド**: Netlify / Vercel / その他？
- **データベース**: Railway / Render / 独立したサービス？

---

## n8n自己ホスト用サーバーの選択肢

### 1. 既存サーバーを活用（推奨・コスト最安）

#### 1.1 既存のRailwayサーバーを使用
- **コスト**: **¥0**（追加コストなし）
- **前提条件**: 既存のRailwayサーバーに余裕がある場合
- **メリット**:
  - 追加コストなし
  - 既存のインフラを活用
  - 管理が簡単
- **デメリット**:
  - 既存システムのリソースを共有するため、負荷が増える可能性
  - Railwayの無料枠を超えると課金される可能性

#### 1.2 既存のVPSを使用
- **コスト**: **¥0**（追加コストなし）
- **前提条件**: 既存のVPSに余裕がある場合
- **メリット**:
  - 追加コストなし
  - 完全な制御が可能
- **デメリット**:
  - サーバー管理の知識が必要
  - 既存システムのリソースを共有

---

### 2. 新規サーバーを用意（推奨・安定性重視）

#### 2.1 Railway（最小プラン）
- **コスト**: **$5/月 = 約¥750/月**
- **スペック**: 
  - 512MB RAM
  - 1GB ストレージ
  - 100GB 転送量/月
- **メリット**:
  - セットアップが簡単（Docker対応）
  - 自動デプロイ
  - スケーリングが容易
- **デメリット**:
  - 月額コストがかかる
  - 無料枠は限定的

#### 2.2 Render（無料プラン）
- **コスト**: **¥0**（無料プラン）
- **スペック**:
  - 512MB RAM
  - 無料枠あり（スリープする可能性）
- **メリット**:
  - 無料で始められる
  - セットアップが簡単
- **デメリット**:
  - 15分間の非アクティブでスリープ
  - スリープからの復帰に時間がかかる（n8nには不向き）

#### 2.3 VPS（エックスサーバーVPS）
- **コスト**: **約¥1,000-2,000/月**
- **スペック**:
  - 1 vCPU
  - 1-2GB RAM
  - 50-100GB ストレージ
- **メリット**:
  - 安定したパフォーマンス
  - 完全な制御が可能
  - 日本国内のサーバー（低レイテンシ）
- **デメリット**:
  - サーバー管理の知識が必要
  - セットアップに時間がかかる

#### 2.4 VPS（Hostinger）
- **コスト**: **約¥779/月**
- **スペック**:
  - 1 vCPU
  - 4GB RAM
  - 50GB NVMe SSD
  - 4TB 帯域幅
- **メリット**:
  - n8n専用プランあり
  - コストパフォーマンスが良い
  - セットアップが比較的簡単
- **デメリット**:
  - 海外サーバー（レイテンシの可能性）

#### 2.5 AWS EC2（t3.micro）
- **コスト**: **約¥1,000-1,500/月**
- **スペック**:
  - 1 vCPU
  - 1GB RAM
  - 30GB ストレージ
- **メリット**:
  - 高い信頼性
  - スケーリングが容易
  - 豊富な機能
- **デメリット**:
  - 設定が複雑
  - コストが高め

---

## 推奨構成

### パターンA: コスト最優先
1. **既存のRailwayサーバーを使用**（追加コスト¥0）
2. または **Render無料プラン**（スリープのリスクあり）

### パターンB: バランス型（推奨）
1. **Railway最小プラン**（¥750/月）
   - セットアップが簡単
   - 安定した動作
   - 複数ユーザーで共有可能

### パターンC: 安定性最優先
1. **VPS（Hostinger）**（¥779/月）
   - n8n専用プランあり
   - コストパフォーマンスが良い
   - 安定したパフォーマンス

---

## n8nのシステム要件

### 最小要件
- **CPU**: 1 vCPU以上
- **RAM**: 512MB以上（推奨: 1GB以上）
- **ストレージ**: 10GB以上
- **ネットワーク**: 安定したインターネット接続

### 推奨要件
- **CPU**: 2 vCPU
- **RAM**: 2GB以上
- **ストレージ**: 20GB以上
- **データベース**: PostgreSQL（n8n内蔵SQLiteでも可）

---

## コスト比較（月額）

| サービス | コスト | スペック | セットアップ難易度 | 推奨度 |
|---------|--------|---------|-------------------|--------|
| 既存Railway | ¥0 | 既存リソース | ⭐ 簡単 | ⭐⭐⭐⭐⭐ |
| Render無料 | ¥0 | 512MB RAM | ⭐ 簡単 | ⭐⭐（スリープ問題） |
| Railway最小 | ¥750 | 512MB RAM | ⭐ 簡単 | ⭐⭐⭐⭐ |
| Hostinger VPS | ¥779 | 4GB RAM | ⭐⭐ 普通 | ⭐⭐⭐⭐⭐ |
| エックスサーバーVPS | ¥1,000-2,000 | 1-2GB RAM | ⭐⭐⭐ やや難 | ⭐⭐⭐ |
| AWS EC2 | ¥1,000-1,500 | 1GB RAM | ⭐⭐⭐⭐ 難しい | ⭐⭐⭐ |

---

## 次のステップ

1. **現在のホスティング状況を確認**
   - バックエンドがどこで動いているか
   - 既存サーバーに余裕があるか

2. **要件を決定**
   - コスト優先か、安定性優先か
   - セットアップの難易度をどこまで許容できるか

3. **サーバーを選定**
   - 上記の比較表を参考に選択

4. **n8nのセットアップ**
   - Dockerを使用したセットアップが最も簡単
   - RailwayやRenderはワンクリックデプロイ可能

---

## 注意事項

- **データベース**: n8nはSQLite（内蔵）またはPostgreSQLを使用可能
  - 小規模利用ならSQLiteで十分
  - 大規模利用や高可用性が必要ならPostgreSQL推奨

- **バックアップ**: n8nのワークフローとデータは定期的にバックアップが必要
  - Railway/Renderは自動バックアップ機能あり
  - VPSの場合は手動でバックアップ設定が必要

- **セキュリティ**: n8nは認証機能を有効にすることを強く推奨
  - デフォルトでは認証なしでアクセス可能（危険）
  - 本番環境では必ず認証を有効化

