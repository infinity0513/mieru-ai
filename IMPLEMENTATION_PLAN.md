# 実装計画：DBベースのデータ取得・表示システム

## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）




## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）




## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）



## 概要
現在の実装では、ダッシュボード表示時にMETA APIを複数回呼び出しており、時間がかかり、表示数値も一貫性がない問題がある。
これを解決するため、META APIから取得したデータをDBに保存し、ダッシュボード表示時はDBから取得する方式に変更する。

## 実装の流れ
1. META APIでデータを取得
2. DBに保存して整理、ダッシュボードに表示するべきデータをまとめる
3. ダッシュボードにデータが反映される

## 期待される効果
- ダッシュボードのデータ切り替えが高速化（数百ミリ秒〜1秒程度）
- 正確なデータが表示される（DBから取得するため、表示数値が完全一致）
- API呼び出し回数の大幅な削減（ダッシュボード表示時の複数回呼び出しを削除）
- データ取得時間の短縮（既存データはスキップ）

## バックエンド実装内容

### 1. META APIデータ取得処理の修正
- ユニークリーチ（reach）を含む全データをDBに保存
- 既存データの確認（日付・キャンペーンID・meta_account_idの組み合わせで重複チェック）
- 新規データのみ追加（過去の日付は更新しない）
- 既に存在する日付のデータはスキップ

### 2. ダッシュボード表示用エンドポイントの修正
- `getCampaignSummary`をDBから取得するように変更
- ユニークリーチもDBから取得
- META APIを直接呼び出さない

### 3. DBスキーマ確認
- `reach`カラムが存在するか確認
- 存在しない場合は追加

## フロントエンド実装内容

### 4. ダッシュボード表示ロジックの修正
- 各キャンペーンのユニークリーチ取得処理（`getCampaignSummary`の複数回呼び出し）を削除
- `campaignReachMap`関連のロジックを削除
- DBから取得したデータを直接使用

### 5. `loadDashboardData`の修正
- 全キャンペーンのユニークリーチを並行取得する処理を削除
- `summaryData`から直接リーチ数を取得

### 6. `campaignStats`の修正
- `campaignReachMap`への依存を削除
- `summaryData`から直接リーチ数を取得

## 重要なポイント
- 過去の日付のデータは確定後は変更されないため、更新処理は不要
- 新規データのみを追加する実装
- 既存データを保持しつつ、新しいデータだけを追加

## 実装時間の見積もり
30〜60分程度（既存のDBスキーマやコード構造によって変動する可能性あり）


